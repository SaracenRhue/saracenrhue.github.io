---
title: Linux
date: 2022-10-01 +0000
categories: [bash,terminal,shell,linux]
tags: [servers,bash,terminal,linux,documentation,automation,shell,ssh]
---

## sudo

Repeat last command with sudo

```bash
sudo !!
```

## ssh

## ssh into a server

```bash
ssh username@server_ip
```

### ssh into a server with a specific port

```bash
ssh -p 2222 username@server_ip
```

## send a command to a server

```bash
ssh username@server_ip "ls"
```

## send a file to a server

```bash
scp file.txt username@server_ip:/home/username/
```

## sshpass

### sshpass into a server

```bash
sshpass -p "password" ssh username@server_ip
```

### send a command to a server with sshpass

```bash
sshpass -p "password" ssh username@server_ip "ls"
```

### send file to a server with sshpass

```bash
sshpass -p "password" scp file.txt username@server_ip:/home/username/
```

## virsh

`virsh` is a command line tool for managing virtual machines.<br>
It is part of the `libvirt` package.

### virsh list

```bash
virsh list --all
```

### virsh start

start a virtual machine

```bash
virsh start vm_name
```

### virsh shutdown

shutdown a virtual machine

```bash
virsh shutdown vm_name
```

### virsh destroy

destroy a virtual machine

```bash
virsh destroy vm_name
```

### virsh undefine

undefine a virtual machine (remove it from the list)

```bash
virsh undefine vm_name
```

### virsh console

connect to the console of a virtual machine

```bash
virsh console vm_name
```

### virsh snapshot-create-as

create a snapshot of a virtual machine

```bash
virsh snapshot-create-as vm_name snapshot_name
```

### virsh snapshot-list

list all snapshots of a virtual machine

```bash
virsh snapshot-list vm_name
```

### virsh snapshot-revert

revert a virtual machine to a snapshot

```bash
virsh snapshot-revert vm_name snapshot_name
```

### virsh snapshot-delete

delete a snapshot of a virtual machine

```bash
virsh snapshot-delete vm_name snapshot_name
```
